<nav class="navbar">
    <div class="nav-container">
        <a href="{{ '/' | relative_url }}" class="logo">
            {{ site.title | split: '-' | first | strip }}
        </a>
        
<div class="nav-links">
    {% for link in site.nav_links %}  <!-- â† Reads from _config.yml -->
        <a href="{{ link.url | relative_url }}">
            <i class="{{ link.icon }}"></i> {{ link.title }}
        </a>
    {% endfor %}
</div>
        
        <button class="theme-toggle" id="themeToggle" onclick="toggleTheme()">
            <i class="fas fa-moon"></i>
        </button>
        <button class="menu-toggle" id="menuToggle">
            <i class="fas fa-bars"></i>
        </button>
    </div>
</nav>

<script>
// Simple inline theme toggle
function toggleTheme() {
    const isLightTheme = document.body.classList.toggle('light-theme');
    const themeToggle = document.getElementById('themeToggle');
    
    if (isLightTheme) {
        themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
        localStorage.setItem('theme', 'light');
        // Update CSS variables (call function from script.js if available)
        if (typeof updateThemeVariables === 'function') {
            updateThemeVariables('light');
        }
    } else {
        themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
        localStorage.setItem('theme', 'dark');
        if (typeof updateThemeVariables === 'function') {
            updateThemeVariables('dark');
        }
    }
}

// Initialize theme on page load
document.addEventListener('DOMContentLoaded', function() {
    const themeToggle = document.getElementById('themeToggle');
    if (!themeToggle) return;
    
    const currentTheme = localStorage.getItem('theme');
    const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    
    if (currentTheme === 'light' || (!currentTheme && prefersDarkScheme.matches)) {
        document.body.classList.add('light-theme');
        themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
        if (typeof updateThemeVariables === 'function') {
            updateThemeVariables('light');
        }
    }
    
    // Mobile menu toggle
    const menuToggle = document.getElementById('menuToggle');
    const navLinks = document.querySelector('.nav-links');
    
    if (menuToggle && navLinks) {
        menuToggle.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            menuToggle.innerHTML = navLinks.classList.contains('active') 
                ? '<i class="fas fa-times"></i>' 
                : '<i class="fas fa-bars"></i>';
        });
    }
});
</script>